<!DOCTYPE html>
<html lang="eng">
<head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale-1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>Morphing SVG</title>
        <link rel="stylesheet" href="incl/css/morphstyling.css">
</head>
<body>

    <button id="cta">Click me</button>

    <svg viewBox="0 0 215 110">
	        <polygon class="morph" points="215,110 0,110 0,0 50.47,0 215,0"/>
    </svg>

    <div id="text">
        <h1>Well, that was revealing..</h1>
        <p>Isn't this cool? Here's a little more text to fill this space out a bit more.</p>

        <button id="cta2">Go back</button>
    </div>

    <script src="./incl/js/anime.min.js"></script>

    <script>

        var btn = document.getElementById('cta');
        var btn2 = document.getElementById('cta2');
        
        btn.onclick = function () {
            var morphing = anime({
                targets: '.morph',
                points: [
                    { value: '215,110 0,110 0,0 50.47,0 77,70' },
                    { value: '215,110 0,110 0,0 0,0 77,70' }
                ],
                easing: 'easeOutQuad',
                duration: 1200,
                loop: false
            });

            anime({
                targets: '#text',
                opacity: 1,
                duration: 500,
                translateY: 150
            })

            var promise = morphing.finished.then(() => {

                btn2.onclick =function () {
                var morphing = anime({
                    targets: '.morph',
                    points: [
                        { value: '215,110 0,110 0,0 50.47,0 77,70' },
                        { value: '215,110 0,110 0,0 50.47,0 215,0' }
                    ],
                    easing: 'easeOutQuad',
                    duration: 1200,
                    loop: false
                });
                anime({
                    targets: '#text',
                    opacity: 0,
                    duration: 500,
                    translateY: -800
                })
                };
            })
        }


    </script>

</body>
</html>